select `i`.`id` AS `id`,`i`.`nama` AS `nama`,
`gi`.`id` AS `gi_id`,`gi`.`nama` AS `gi_nama`,
`tp`.`id` AS `tp_id`,`tp`.`nama` AS `tp_nama`,tp.x,tp.y,
`m`.`year` AS `year`,
`m`.`value` AS `i1`,
(select bobot from indikator where id='in2023110400001') as'bobot_i1',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400002' and `year` = `m`.`year`) AS `i2`,
(select bobot from indikator where id='in2023110400002') as'bobot_i2',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400003' and `year` = `m`.`year`) AS `i3`,
(select bobot from indikator where id='in2023110400003') as'bobot_i3',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400004' and `year` = `m`.`year`) AS `i4`,
(select bobot from indikator where id='in2023110400004') as'bobot_i4',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400005' and `year` = `m`.`year`) AS `i5`,
(select bobot from indikator where id='in2023110400005') as'bobot_i5',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400006' and `year` = `m`.`year`) AS `i6`,
(select bobot from indikator where id='in2023110400006') as'bobot_i6',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400007' and `year` = `m`.`year`) AS `i7`,
(select bobot from indikator where id='in2023110400007') as'bobot_i7',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400008' and `year` = `m`.`year`) AS `i8`,
(select bobot from indikator where id='in2023110400008') as'bobot_i8',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400009' and `year` = `m`.`year`) AS `i9`,
(select bobot from indikator where id='in2023110400009') as'bobot_i9',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400010' and `year` = `m`.`year`) AS `i10`,
(select bobot from indikator where id='in2023110400010') as'bobot_i10',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400011' and `year` = `m`.`year`) AS `i11`,
(select bobot from indikator where id='in2023110400011') as'bobot_i11',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400012' and `year` = `m`.`year`) AS `i12`,
(select bobot from indikator where id='in2023110400012') as'bobot_i12',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400013' and `year` = `m`.`year`) AS `i13`,
(select bobot from indikator where id='in2023110400013') as'bobot_i13',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400014' and `year` = `m`.`year`) AS `i14`,
(select bobot from indikator where id='in2023110400014') as'bobot_i14',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400015' and `year` = `m`.`year`) AS `i15`,
(select bobot from indikator where id='in2023110400015') as'bobot_i15',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400016' and `year` = `m`.`year`) AS `i16`,
(select bobot from indikator where id='in2023110400016') as'bobot_i16',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400017' and `year` = `m`.`year`) AS `i17`,
(select bobot from indikator where id='in2023110400017') as'bobot_i17',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400018' and `year` = `m`.`year`) AS `i18`,
(select bobot from indikator where id='in2023110400018') as'bobot_i18',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400019' and `year` = `m`.`year`) AS `i19`,
(select bobot from indikator where id='in2023110400019') as'bobot_i19',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400020' and `year` = `m`.`year`) AS `i20`,
(select bobot from indikator where id='in2023110400020') as'bobot_i20',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400021' and `year` = `m`.`year`) AS `i21`,
(select bobot from indikator where id='in2023110400021') as'bobot_i21',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400022' and `year` = `m`.`year`) AS `i22`,
(select bobot from indikator where id='in2023110400022') as'bobot_i22',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400023' and `year` = `m`.`year`) AS `i23`,
(select bobot from indikator where id='in2023110400023') as'bobot_i23',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400024' and `year` = `m`.`year`) AS `i24`,
(select bobot from indikator where id='in2023110400024') as'bobot_i24',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400025' and `year` = `m`.`year`) AS `i25`,
(select bobot from indikator where id='in2023110400025') as'bobot_i25',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400026' and `year` = `m`.`year`) AS `i26`,
(select bobot from indikator where id='in2023110400026') as'bobot_i26',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400027' and `year` = `m`.`year`) AS `i27`,
(select bobot from indikator where id='in2023110400027') as'bobot_i27',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400028' and `year` = `m`.`year`) AS `i28`,
(select bobot from indikator where id='in2023110400028') as'bobot_i28',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400029' and `year` = `m`.`year`) AS `i29`,
(select bobot from indikator where id='in2023110400029') as'bobot_i29',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400030' and `year` = `m`.`year`) AS `i30`,
(select bobot from indikator where id='in2023110400030') as'bobot_i30',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400031' and `year` = `m`.`year`) AS `i31`,
(select bobot from indikator where id='in2023110400031') as'bobot_i31',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400032' and `year` = `m`.`year`) AS `i32`,
(select bobot from indikator where id='in2023110400032') as'bobot_i32',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400033' and `year` = `m`.`year`) AS `i33`,
(select bobot from indikator where id='in2023110400033') as'bobot_i33',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400034' and `year` = `m`.`year`) AS `i34`,
(select bobot from indikator where id='in2023110400034') as'bobot_i34',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400035' and `year` = `m`.`year`) AS `i35`,
(select bobot from indikator where id='in2023110400035') as'bobot_i35',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400036' and `year` = `m`.`year`) AS `i36`,
(select bobot from indikator where id='in2023110400036') as'bobot_i36',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400037' and `year` = `m`.`year`) AS `i37`,
(select bobot from indikator where id='in2023110400037') as'bobot_i37',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400038' and `year` = `m`.`year`) AS `i38`,
(select bobot from indikator where id='in2023110400038') as'bobot_i38',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400039' and `year` = `m`.`year`) AS `i39`,
(select bobot from indikator where id='in2023110400039') as'bobot_i39',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400040' and `year` = `m`.`year`) AS `i40`,
(select bobot from indikator where id='in2023110400040') as'bobot_i40',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400041' and `year` = `m`.`year`) AS `i41`,
(select bobot from indikator where id='in2023110400041') as'bobot_i41',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400042' and `year` = `m`.`year`) AS `i42`,
(select bobot from indikator where id='in2023110400042') as'bobot_i42',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400043' and `year` = `m`.`year`) AS `i43`,
(select bobot from indikator where id='in2023110400043') as'bobot_i43',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400044' and `year` = `m`.`year`) AS `i44`,
(select bobot from indikator where id='in2023110400044') as'bobot_i44',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400045' and `year` = `m`.`year`) AS `i45`,
(select bobot from indikator where id='in2023110400045') as'bobot_i45',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400046' and `year` = `m`.`year`) AS `i46`,
(select bobot from indikator where id='in2023110400046') as'bobot_i46',
(select value from `isi`  where instansi = `i`.`id` and indikator = 'in2023110400047' and `year` = `m`.`year`) AS `i47`,
(select bobot from indikator where id='in2023110400047') as'bobot_i47',
(select bobot from aspek where id='a2023110400001') as'bobot_aspek1',
(select bobot from aspek where id='a2023110400002') as'bobot_aspek2',
(select bobot from aspek where id='a2023110400003') as'bobot_aspek3',
(select bobot from aspek where id='a2023110400004') as'bobot_aspek4',
(select bobot from aspek where id='a2023110400005') as'bobot_aspek5',
(select bobot from aspek where id='a2023110400006') as'bobot_aspek6',
(select bobot from aspek where id='a2023110400007') as'bobot_aspek7',
(select bobot from aspek where id='a2023110400008') as'bobot_aspek8',
(select bobot from domain where id='d2023110400001') as'bobot_domain1',
(select bobot from domain where id='d2023110400002') as'bobot_domain2',
(select bobot from domain where id='d2023110400003') as'bobot_domain3',
(select bobot from domain where id='d2023110400004') as'bobot_domain4'
from instansi `i` 
join `isi` `m` on`m`.`instansi` = `i`.`id` and `m`.`indikator` = 'in2023110400001' 
join `grup_instansi` `gi` on`i`.`group_instansi` = `gi`.`id`
left JOIN titik_peta tp ON gi.titik_peta=tp.id


round(((((((((`i21*bobot_i21` + `i22*bobot_i22`) + `i23*bobot_i23`) + `i24*bobot_i24`) + `i25*bobot_i25`) + `i26*bobot_i26`) + `i27*bobot_i27`) + `i28*bobot_i28`) / bobot_aspek5),2) AS `aspek5`,
round((((`i31*bobot_i31`.`i31` + `i29*bobot_29`) + `i30*bobot_30`) / bobot_aspek6),2) AS `aspek6`,
round(((((((((((`i41*bobot_41` + `i32*bobot_32`) + `i33*bobot_33`) + `i34*bobot_34`) + `i35*bobot_35`) + `i36*bobot_36`) + `i37*bobot_37`) + `i38*bobot_38`) + `i39*bobot_39`) + `i40*bobot_40`) / bobot_aspek7),2) AS `aspek7`,


ROUND(i1*bobot_i1,2) i1_bobot,
ROUND(i2*bobot_i2,2) i2_bobot,
ROUND(i3*bobot_i3,2) i3_bobot,
ROUND(i4*bobot_i4,2) i4_bobot,
ROUND(i5*bobot_i5,2) i5_bobot,
ROUND(i6*bobot_i6,2) i6_bobot,
ROUND(i7*bobot_i7,2) i7_bobot,
ROUND(i8*bobot_i8,2) i8_bobot,
ROUND(i9*bobot_i9,2) i9_bobot,
ROUND(i10*bobot_i10,2) i10_bobot,
ROUND(i11*bobot_i11,2) i11_bobot,
ROUND(i12*bobot_i12,2) i12_bobot,
ROUND(i13*bobot_i13,2) i13_bobot,
ROUND(i14*bobot_i14,2) i14_bobot,
ROUND(i15*bobot_i15,2) i15_bobot,
ROUND(i16*bobot_i16,2) i16_bobot,
ROUND(i17*bobot_i17,2) i17_bobot,
ROUND(i18*bobot_i18*2) i18*bobot,
ROUND(i19*bobot_i19,2) i19_bobot,
ROUND(i20*bobot_i20,2) i20_bobot,
ROUND(i21*bobot_i21,2) i21_bobot,
ROUND(i22*bobot_i22,2) i22_bobot,
ROUND(i23*bobot_i23,2) i23_bobot,
ROUND(i24*bobot_i24,2) i24_bobot,
ROUND(i25*bobot_i25,2) i25_bobot,
ROUND(i26*bobot_i26,2) i26_bobot,
ROUND(i27*bobot_i27,2) i27_bobot,
ROUND(i28*bobot_i28,2) i28_bobot,
ROUND(i29*bobot_i29,2) i29_bobot,
ROUND(i30*bobot_i30,2) i30_bobot,
ROUND(i31*bobot_i31,2) i31_bobot,
ROUND(i32*bobot_i32,2) i32_bobot,
ROUND(i33*bobot_i33,2) i33_bobot,
ROUND(i34*bobot_i34,2) i34_bobot,
ROUND(i35*bobot_i35,2) i35_bobot,
ROUND(i36*bobot_i36,2) i36_bobot,
ROUND(i37*bobot_i37,2) i37_bobot,
ROUND(i38*bobot_i38,2) i38_bobot,
ROUND(i39*bobot_i39,2) i39_bobot,
ROUND(i40*bobot_i40,2) i40_bobot,
ROUND(i41*bobot_i41,2) i41_bobot,
ROUND(i42*bobot_i42,2) i42_bobot,
ROUND(i43*bobot_i43,2) i43_bobot,
ROUND(i44*bobot_i44,2) i44_bobot,
ROUND(i45*bobot_i45,2) i45_bobot,
ROUND(i46*bobot_i46,2) i46_bobot,
ROUND(i47*bobot_i47,2) i47_bobot,
ROUND(aspek1*bobot_aspek1,2) aspek1_bobot,
ROUND(aspek2*bobot_aspek2,2) aspek2_bobot,
ROUND(aspek3*bobot_aspek3,2) aspek3_bobot,
ROUND(aspek4*bobot_aspek4,2) aspek4_bobot,
ROUND(aspek5*bobot_aspek5,2) aspek5_bobot,
ROUND(aspek6*bobot_aspek6,2) aspek6_bobot,
ROUND(aspek7*bobot_aspek7,2) aspek7_bobot,
ROUND(domain1*bobot_domain1,2) domain1_bobot,
ROUND(domain2*bobot_domain2,2) domain2_bobot,
ROUND(domain3*bobot_domain3,2) domain3_bobot,
ROUND(domain4*bobot_domain4,2) domain4_bobot,